## 💡 **세부 정책 정의**

> ⓘ 아래 형식 중, 작성하려는 정책의 성격과 가장 잘 맞는 형식을 선택하여 사용하세요.

---

### **형식 1: 일반 정책**
> `기능 명세, 기술 결정, 일반 규칙, 이벤트 기반 규칙 등 넓은 범위의 정책을 주제별로 자유롭게 기술할 때 사용합니다.`

> 💡 **이벤트 기반 규칙 작성 Tip**
> `트리거(Trigger)가 되는 이벤트와 실행 내용(Action)을 명확히 구분하여 작성하면 이해하기 쉽습니다.`
> - **Trigger**: `{{EVENT_TRIGGER}}`
> - **Action**: `{{EVENT_ACTION}}`

| 대구분 | 중구분 | 상세 | 비고 |
| :--- | :--- | :--- | :--- |
| **외부 연동 일반** | API 연동 프로토콜 | 외부 연계 시스템과의 API 통신은 RESTful API 기반으로 JSON/XML 데이터 포맷을 사용하며, HTTPS를 통한 암호화 통신을 기본으로 한다. | CRS-015, H23 |
| **외부 연동 일반** | API 연동 관리 | 외부 시스템 연동을 위한 API 엔드포인트는 URL 등록 방식으로 관리하며, 연동 시스템별 접근 제어 및 API 키 관리를 지원한다. | CRS-015, O8 |
| **KeyLink 연동** | 통신 프로토콜 | KeyLink와의 모든 통신은 TLS 1.2 이상의 보안 프로토콜을 사용하여 기밀성과 무결성을 보장한다. | integration.txt |
| **KeyLink 연동** | API 호출 및 오류 처리 | 키 생성, 서명, 암복호화 등 모든 암호화 작업은 KeyLink API를 통해 수행하며, API 호출 시 발생하는 KeyLink 고유의 오류 코드 및 응답에 대한 명확한 처리 방안을 정의한다. | integration.txt |
| **External PKI 연동** | OCSP 응답 정책 | OCSP 응답은 실시간으로 제공되며, 응답 속도 및 서비스 가용성에 대한 서비스 수준 협약(SLA)을 명확히 정의하고 지속적으로 모니터링한다. | CRS-006, H12, PRD.txt |
| **External PKI 연동** | CRL 배포 및 다운로드 | 모든 외부 CA의 CRL(인증서 폐기 목록)을 표준 프로토콜(HTTP/HTTPS)을 통해 효율적으로 다운로드하고, 시스템 성능에 영향을 주지 않도록 최적화된 메커니즘을 제공한다. | CRS-007, H13, O9, integration.txt |
| **External PKI 연동** | 신뢰 앵커 관리 | 외부 CA 인증서 및 신뢰 앵커(Trust Anchor)를 안전하게 관리하며, 주기적인 유효성 검증 절차를 수행한다. | integration.txt |
| **인증서 관리 API** | 발급/폐기/조회 API | 외부 연계 시스템은 CA/사용자 인증서 발급 요청(R28, R30), 폐기 요청(R29), 인증서 상태 조회(R37)를 위한 API를 사용할 수 있으며, 각 API는 역할 기반 접근 제어(RBAC) 정책을 따른다. | A10, R28, R29, R30, R37 |
| **인증서 관리 API** | 프로파일 관리 API | 외부 연계 시스템이 인증서 프로파일 등록/수정(R27)을 위한 API를 사용할 경우, 관리자의 승인 절차를 거치도록 한다. | A10, R27 |

---

### **형식 2: 권한**
> `사용자 역할(Role)별로 시스템의 특정 기능이나 데이터에 대한 접근 권한(CRUD)을 정의할 때 사용합니다.`

| 대구분 | 중구분 | 사용자 | 보기 | 수정 | 삭제 | 쓰기 | 비고 |
| :--- | :--- | :--- | :--- | :--- | :--- | :--- | :--- |
| 외부 연동 설정 | KeyLink 연동 | 엔지니어 (A3) | C | R | U | D | KeyLink 연동 설정 및 관리 |
| 외부 연동 설정 | KeyLink 연동 | 시스템 관리자 (A4) | C | R | U | D | KeyLink 연동 설정 및 관리 |
| 외부 연동 설정 | External PKI 연동 | 엔지니어 (A3) | C | R | U | D | 외부 PKI(OCSP, CRL) 연동 설정 및 관리 |
| 외부 연동 설정 | External PKI 연동 | 시스템 관리자 (A4) | C | R | U | D | 외부 PKI(OCSP, CRL) 연동 설정 및 관리 |
| 외부 연동 설정 | API 연동 관리 | 엔지니어 (A3) | C | R | U | D | 외부 시스템 연동을 위한 API 등록 및 관리 |
| 외부 연동 설정 | API 연동 관리 | 시스템 관리자 (A4) | C | R | U | D | 외부 시스템 연동을 위한 API 등록 및 관리 |

---

### **형식 3: 검증**
> `입력 폼(Form) 등에서 사용자의 입력값이 유효한지, 또는 필수값이 모두 채워졌는지 등을 검증하는 규칙을 상세히 정의할 때 사용합니다.`

#### **필수 입력항목**

| 상황 | 문구 | 처리 시나리오 |
| :--- | :--- | :--- |
| 외부 연동 API 등록 | 연동 시스템명은 필수 입력 항목입니다. | 연동 시스템명 입력 필드에 포커스 후 경고 메시지 표시 |
| 외부 연동 API 등록 | API 엔드포인트 URL은 필수 입력 항목입니다. | API 엔드포인트 URL 입력 필드에 포커스 후 경고 메시지 표시 |

#### **유효성 체크**

| 상황 | 문구 | 처리 시나리오 |
| :--- | :--- | :--- |
| 외부 연동 API 등록 | 유효하지 않은 URL 형식입니다. | API 엔드포인트 URL 입력 필드에 포커스 후 유효성 경고 메시지 표시 |
| 외부 연동 API 등록 | API 키는 최소 16자 이상이어야 합니다. | API 키 입력 필드에 포커스 후 길이 유효성 경고 메시지 표시 |
| OCSP/CRL 설정 | OCSP/CRL URL은 HTTP 또는 HTTPS 프로토콜로 시작해야 합니다. | URL 입력 필드에 포커스 후 프로토콜 유효성 경고 메시지 표시 |
